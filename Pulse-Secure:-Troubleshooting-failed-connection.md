# Notes from trying to troubleshooting failed connection / setup

Here are my notes of trying to connect to the UCSF VPN using the Pulse Secure client.  I will try to update this page with any new information I learn about this.  As of 2017-09-29 I still cannot connect to the UCSF VPN.


## Logs
Here is what the log looks like after attempting to connect using the Pulse Secure GUI; (i) open GUI, (ii) click 'UCSF' connection already added, (iii) enter credentials in separate windows, and eventually (iv) close the GUI.
```
20170929162605.739243 pulsesvc[p31527.t31527] pulseui.info /usr/lib/i386-linux-gnu/libproxy.so.1 loaded 
 (pulseProxy.cpp:151)
20170929162605.745955 pulsesvc[p31527.t31527] pulseui.info  proxy is direct://

 (pulseProxy.cpp:185)
20170929162605.746002 pulsesvc[p31527.t31527] pulseui.info Protocol :direct Credential :  (pulseProxy.cpp:58)
20170929162605.746011 pulsesvc[p31527.t31527] pulseui.info Proxy used is NULL (pulseUi.cpp:717)
20170929162605.746016 pulsesvc[p31527.t31527] pulseui.info Proxy Host is NULL (pulseUi.cpp:718)
20170929162605.746021 pulsesvc[p31527.t31527] pulseui.info Proxy Port is 0 (pulseUi.cpp:719)
20170929162605.746025 pulsesvc[p31527.t31527] pulseui.info Proxy UserName is NULL (pulseUi.cpp:720)
20170929162605.746030 pulsesvc[p31527.t31527] pulseui.info Proxy Password is NULL (pulseUi.cpp:721)
20170929162605.746034 pulsesvc[p31527.t31527] pulseui.error  Proxy is not used/set (pulseUi.cpp:751)
20170929162605.746040 pulsesvc[p31527.t31527] pulseui.info Proxy object is delete (pulseProxy.cpp:26)
20170929162607.964302 pulsesvc[p31527.t31527] pulseui.info Updating Preferred certificate:UCSF for connection  (pulseCertAuth.cpp:103)
20170929162607.985755 pulsesvc[p31527.t31527] pulseui.info /usr/lib/i386-linux-gnu/libproxy.so.1 loaded 
 (pulseProxy.cpp:151)
20170929162607.996382 pulsesvc[p31527.t31527] pulseui.info  proxy is direct://

 (pulseProxy.cpp:185)
20170929162607.996525 pulsesvc[p31527.t31527] pulseui.info Protocol :direct Credential :  (pulseProxy.cpp:58)
20170929162607.996558 pulsesvc[p31527.t31527] pulseui.info Proxy used is NULL (pulseUi.cpp:717)
20170929162607.996576 pulsesvc[p31527.t31527] pulseui.info Proxy Host is NULL (pulseUi.cpp:718)
20170929162607.996591 pulsesvc[p31527.t31527] pulseui.info Proxy Port is 0 (pulseUi.cpp:719)
20170929162607.996606 pulsesvc[p31527.t31527] pulseui.info Proxy UserName is NULL (pulseUi.cpp:720)
20170929162607.996621 pulsesvc[p31527.t31527] pulseui.info Proxy Password is NULL (pulseUi.cpp:721)
20170929162607.996636 pulsesvc[p31527.t31527] pulseui.error  Proxy is not used/set (pulseUi.cpp:751)
20170929162607.996651 pulsesvc[p31527.t31527] pulseui.info Proxy object is delete (pulseProxy.cpp:26)
20170929162607.3359 pulsesvc[p31527.t31527] pulseui.info About to start VPN connection: UCSF, baseUrl: https://remote.ucsf.edu/pulse (pulseUi.cpp:408)
20170929162614.32159 pulsesvc[p31527.t31527] pulseui.info Updating Preferred certificate:UCSF for connection  (pulseCertAuth.cpp:103)
20170929162614.32441 pulsesvc[p31527.t31527] pulseui.info In launchTunnel() (pulseUi.cpp:1054)
20170929162614.32596 pulsesvc[p31527.t31554] pulseui.info In startPulseService (pulseUi.cpp:1141)
20170929162614.64410 pulsesvc[p31527.t31554] pulseui.info pid of pulsesvc = 0 (pulseUi.cpp:145)
20170929162614.74654 pulsesvc[p31558.t31558] dsncuiapi.para DsNcUiApi::DsNcUiApi (dsncuiapi.cpp:75)
20170929162614.74730 pulsesvc[p31558.t31558] sysdeps.info restoring DNS settings... (sysdeps.cpp:975)
20170929162614.74746 pulsesvc[p31558.t31558] sysdeps.error rename /etc/jnpr-nc-resolv.conf => /etc/resolv.conf failed wirh error 2 (sysdeps.cpp:978)
20170929162614.74759 pulsesvc[p31558.t31558] sysdeps.error rename /etc/jnpr-nc-hosts.bak => /etc/hosts failed wirh error 2 (sysdeps.cpp:982)
20170929162614.74787 pulsesvc[p31558.t31558] IpcConn.error bind failed to port 4242. Error 98 (ncipc.cpp:85)
20170929162614.74810 pulsesvc[p31558.t31558] dsncuiapi.para DsNcUiApi::~DsNcUiApi (dsncuiapi.cpp:83)
20170929162614.82514 pulsesvc[p31527.t31554] pulseui.info pid of pulsesvc = 0 (pulseUi.cpp:145)
20170929162615.984924 pulsesvc[p31527.t31527] pulseui.info Succesfully Launched host checker process (pulseUi.cpp:917)
20170929162616.5632 pulsesvc[p31562.t31562] dsncuiapi.para DsNcUiApi::DsNcUiApi (dsncuiapi.cpp:75)
20170929162616.8490 pulsesvc[p31562.t31562] pulseui.info /usr/lib/i386-linux-gnu/libproxy.so.1 loaded 
 (pulseProxy.cpp:151)
20170929162616.22869 pulsesvc[p31562.t31562] pulseui.info  proxy is direct://

 (pulseProxy.cpp:185)
20170929162616.22931 pulsesvc[p31562.t31562] pulseui.info Protocol :direct Credential :  (pulseProxy.cpp:58)
20170929162616.22969 pulsesvc[p31562.t31562] dsclient.para DSClient::authenticate(): user:(NULL), password:..., cert:81c50c1, realm:(NULL) (dsclient.cpp:306)
20170929162616.23152 pulsesvc[p31562.t31562] DSInet.info IVE host remote.ucsf.edu resolved to 128.218.97.10, port 443 (dsinet.cpp:329)
20170929162616.23832 pulsesvc[p31562.t31562] dsssl.warn ssl_init : Failed to load CA certificates (DSSSLSock.cpp:1515)
20170929162616.37808 pulsesvc[p31562.t31562] http_connection.para Starting a timed connect with SSL session 0x8d783b8, proxy (null):0, and timeout 30 (http_connection.cpp:236)
20170929162616.37833 pulsesvc[p31562.t31562] http_connection.para Entering state_start_connection (http_connection.cpp:351)
20170929162616.37842 pulsesvc[p31562.t31562] http_connection.para Remote Address: ip=128.218.97.10, port=443, familiy=2 (http_connection.cpp:799)
20170929162616.37848 pulsesvc[p31562.t31562] http_connection.para Remote Server=remote.ucsf.edu (http_connection.cpp:801)
20170929162616.37853 pulsesvc[p31562.t31562] http_connection.para Local Address: ip=0.0.0.0, port=0, familiy=2 (http_connection.cpp:806)
20170929162616.37859 pulsesvc[p31562.t31562] http_connection.para Proxy Address: ip=(null), port=0, familiy=0 (http_connection.cpp:811)
20170929162616.53305 pulsesvc[p31562.t31562] http_connection.para Entering state_continue_connection (http_connection.cpp:368)
20170929162616.53389 pulsesvc[p31562.t31562] http_connection.para Entering state_ssl_connect (http_connection.cpp:538)
20170929162616.78336 pulsesvc[p31562.t31562] dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
20170929162616.80130 pulsesvc[p31562.t31562] dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
20170929162616.85873 pulsesvc[p31562.t31562] dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
20170929162616.88043 pulsesvc[p31562.t31562] dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
20170929162616.110998 pulsesvc[p31562.t31562] dsssl.para SSL connect ssl=0x8e0cf98/sd=7 connection using cipher AES128-SHA256 (DSSSLSock.cpp:1886)
20170929162616.111076 pulsesvc[p31562.t31562] http_connection.para Returning DSHTTP_COMPLETE from state_ssl_connect (http_connection.cpp:546)
20170929162616.111099 pulsesvc[p31562.t31562] dsclient.info state: kStatePostHostChecker (dsclient.cpp:435)
20170929162616.111133 pulsesvc[p31562.t31562] pulsesvc.info Entering HC sendMessage routine (HostCheckerLinuxTNCC.cpp:138)
20170929162616.111422 pulsesvc[p31562.t31562] pulsesvc.info Entering packageTncData (HostCheckerLinuxTNCC.cpp:225)
20170929162616.111463 pulsesvc[p31562.t31562] pulsesvc.info Base64 encoding the tnc payload (HostCheckerLinuxTNCC.cpp:235)
20170929162616.111526 pulsesvc[p31562.t31562] pulsesvc.info Leaving packageTncData (HostCheckerLinuxTNCC.cpp:251)
20170929162616.111553 pulsesvc[p31562.t31562] pulsesvc.info sending HC tnc update message to IVE (HostCheckerLinuxTNCC.cpp:336)
20170929162616.111570 pulsesvc[p31562.t31562] dsclient.para prepareInetAndOpen: returning because m_inet is already open (dsclient.cpp:1229)
20170929162616.179968 pulsesvc[p31562.t31562] dsclient.error server responded with HTTP error 404 from url: /dana-na/hc/tnchcupdate.cgi (dsclient.cpp:1694)
20170929162616.180048 pulsesvc[p31562.t31562] pulsesvc.error Failed to send tnc data (HostCheckerLinuxTNCC.cpp:196)
20170929162616.180073 pulsesvc[p31562.t31562] pulsesvc.error Failed to send message to TNCC. Error code: 9 (HCLinuxImc.cpp:59)
20170929162616.180092 pulsesvc[p31562.t31562] pulsesvc.error Handshake failed with IMC, imcId: 0 (HostCheckerLinuxTNCC.cpp:114)
20170929162616.180108 pulsesvc[p31562.t31562] pulsesvc.info HC handshake complete (HostCheckerLinuxTNCC.cpp:122)
20170929162616.180126 pulsesvc[p31562.t31562] pulseui.info PostAuth: Setting state to terminate state  (pulse_dsclient.h:127)
20170929162616.184040 pulsesvc[p31562.t31562] pulsesvc.info Post-Auth host check is successful (pulsesvc.cpp:958)
20170929162616.184143 pulsesvc[p31562.t31562] pulseui.info Proxy object is delete (pulseProxy.cpp:26)
20170929162616.184282 pulsesvc[p31527.t31527] pulseui.info Succesfully read the return cookie from host checker process (pulseUi.cpp:921)
20170929162616.184363 pulsesvc[p31527.t31527] pulseui.info Succesfully read the compliance status from host checker process (pulseUi.cpp:929)
20170929162616.185727 pulsesvc[p31527.t31527] pulseui.info Post-Auth Host checking completed (pulseUi.cpp:1007)
20170929162617.270574 pulsesvc[p31527.t31527] DSInet.info IVE host 128.218.97.10 resolved to 128.218.97.10, port 443 (dsinet.cpp:329)
20170929162617.271083 pulsesvc[p31527.t31527] dsssl.warn ssl_init : Failed to load CA certificates (DSSSLSock.cpp:1515)
20170929162617.343259 pulsesvc[p31527.t31527] dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
20170929162617.344449 pulsesvc[p31527.t31527] dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
20170929162617.347830 pulsesvc[p31527.t31527] dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
20170929162617.348843 pulsesvc[p31527.t31527] dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
20170929162617.402677 pulsesvc[p31527.t31527] pulseui.info Succesfully signed out from pulse (pulseUi.cpp:1100)
20170929162617.427768 pulsesvc[p31527.t31527] pulseui.info pid of pulsesvc = 0 (pulseUi.cpp:145)
20170929162617.427853 pulsesvc[p31527.t31527] pulseui.info pulsesvc is already terminated (pulseUi.cpp:193)
20170929162617.437933 pulsesvc[p31527.t31527] DSInet.info IVE host 128.218.97.10 resolved to 128.218.97.10, port 443 (dsinet.cpp:329)
20170929162617.438314 pulsesvc[p31527.t31527] dsssl.warn ssl_init : Failed to load CA certificates (DSSSLSock.cpp:1515)
20170929162617.504138 pulsesvc[p31527.t31527] dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
20170929162617.504680 pulsesvc[p31527.t31527] dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
20170929162617.506266 pulsesvc[p31527.t31527] dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
20170929162617.506751 pulsesvc[p31527.t31527] dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
20170929162617.563308 pulsesvc[p31527.t31527] pulseui.info Succesfully signed out from pulse (pulseUi.cpp:1118)
20170929162617.589426 pulsesvc[p31527.t31527] pulseui.info pid of pulsesvc = 0 (pulseUi.cpp:145)
20170929162617.589525 pulsesvc[p31527.t31527] pulseui.info pulsesvc is already terminated (pulseUi.cpp:193)
```

Here's the `diff` between logs of a successful connection (on a different machine) and the above failed attempt:
```diff
$ diff -iEZbwB -d <(cut -d ' ' -f 3- pulsesvc.log.success) <(cut -d ' ' -f 3- pulsesvc.log.fail)
37,50c37,42
< IpcConn.info listening for IPC connections on port 4242 (ncipc.cpp:93)
< IpcConn.info registering the IPC acceptor (0x08FEA3A0) IO handler (ncipc.cpp:104)
< dsxp.para register handle 0x8fea3b4 SOCK 4 total 1 (dsio.cpp:370)
< dsio.para poll waiting for 1 fds, max-fd: 4, with timeout : -1
< 
< pulseui.info pid of pulsesvc = 12304 (pulseUi.cpp:145)
< dsio.para poll got return value of 1
< 
< dsio.para calling 0x8fea3b4 IpcAcceptor (dsio.cpp:563)
< IpcConn.debug registering the IPC connection (0x08FEAA98) IO handler (ncipc.cpp:194)
< dsxp.para register handle 0x8feaadc SOCK 5 total 2 (dsio.cpp:370)
< dsio.para poll waiting for 2 fds, max-fd: 5, with timeout : -1
< 
< dsio.para poll got return value of 1
---
> IpcConn.error bind failed to port 4242. Error 98 (ncipc.cpp:85)
> dsncuiapi.para DsNcUiApi::~DsNcUiApi (dsncuiapi.cpp:83)
> pulseui.info pid of pulsesvc = 0 (pulseUi.cpp:145)
> pulseui.info Succesfully Launched host checker process (pulseUi.cpp:917)
> dsncuiapi.para DsNcUiApi::DsNcUiApi (dsncuiapi.cpp:75)
> pulseui.info /usr/lib/i386-linux-gnu/libproxy.so.1 loaded 
52,57c44
< dsio.para calling 0x8feaadc IpcConnection (dsio.cpp:563)
< IpcConn.para received 100 msg from UI (ncipc.cpp:332)
< IpcConn.info client opening connection to service (ncipc.cpp:352)
< session.info disconnectAll called (session.cpp:1948)
< ipsec.info New tunnel being created (tunnel.cpp:62)
< dsio.para poll waiting for 2 fds, max-fd: 5, with timeout : -1
---
> pulseui.info  proxy is direct://
59d45
< dsio.para poll got return value of 1
61,85c47,49
< dsio.para calling 0x8feaadc IpcConnection (dsio.cpp:563)
< session.para received 124 msg from UI (session.cpp:132)
< session.info setting log level to 30 (session.cpp:1182)
< session.info log level set to 30 (session.cpp:1189)
< session.info ive_host = remote.ucsf.edu (session.cpp:251)
< session.info Will not use a proxy to connect to the IVE (session.cpp:293)
< session.info Network Connect operates in non-FIPS compliant mode (session.cpp:326)
< session.error proxy not found (session.cpp:395)
< session.info IVE host remote.ucsf.edu resolved to 169.230.251.90 (session.cpp:412)
< rmon.info got system route 0.0.0.0/0.0.0.0 gw 192.168.1.1 metric 600 via 0x00000000 (routemon.cpp:729)
< rmon.info got system route 169.254.0.0/255.255.0.0 gw 0.0.0.0 metric 1000 via 0x00000000 (routemon.cpp:729)
< rmon.info got system route 192.168.1.0/255.255.255.0 gw 0.0.0.0 metric 600 via 0x00000000 (routemon.cpp:729)
< rmon.info  Collecting latest routes from the system (routemon.cpp:1474)
< rmon.info Found best route via ifc wlp2s0 (routemon.cpp:1843)
< rmon.info best route to 169.230.251.90 is 0.0.0.0/0.0.0.0 via 0x00000000 metric: 600 (routemon.cpp:1495)
< rmon.info Found best route via ifc wlp2s0 (routemon.cpp:1843)
< rmon.info Found best route via ifc wlp2s0 (routemon.cpp:1843)
< rmon.info best route to gateway: 192.168.1.0/255.255.255.0 gw 0.0.0.0 via 0x00000000 metric 600 (routemon.cpp:2010)
< rmon.info attempting to add route to next hop gateway (routemon.cpp:2014)
< rmon.info adding route to 192.168.1.1/255.255.255.255 with gw 0.0.0.0, metric 1, if_id 0 (routemon.cpp:887)
< rmon.info adding server route to the IVE: dest = 169.230.251.90, gw = 192.168.1.1, if_id = 0, dev = wlp2s0 (routemon.cpp:1573)
< rmon.error Setting Best route 0 101a8c0 0 0 wlp2s0 (routemon.cpp:1585)
< session.info connecting to ive remote.ucsf.edu best route ifid 0 (session.cpp:450)
< ncp.error ncpEstablish for IVE remote.ucsf.edu with context 0x8feb0e0 (ncp.cpp:550)
< main.info Setting DSSSL to use Default ciphers (ncp.cpp:1925)
---
> pulseui.info Protocol :direct Credential :  (pulseProxy.cpp:58)
> dsclient.para DSClient::authenticate(): user:(NULL), password:..., cert:81c50c1, realm:(NULL) (dsclient.cpp:306)
> DSInet.info IVE host remote.ucsf.edu resolved to 128.218.97.10, port 443 (dsinet.cpp:329)
87,99c51,58
< main.info Setting NCP certificate hash for DSSSL certificate verification (ncp.cpp:1934)
< main.info Using DSSSL to connect to IVE (ncp.cpp:2023)
< connect.info creating a new HTTP connection... (ncp_dsssl.cpp:187)
< dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
< dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
< dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
< dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
< connect.info IVE ncp_version = 3 (ncp_dsssl.cpp:467)
< conn.info cleanup 0 (ncp.cpp:1599)
< ncp.error NCP_ESTABLISH_DONE for IVE remote.ucsf.edu (ncp.cpp:2064)
< ncphandler.info establish done (ncphandler.cpp:283)
< ncp.info connect to hb-x201:443 svc 4 (ncp.cpp:935)
< connect.info creating a new HTTP connection... (ncp_dsssl.cpp:187)
---
> http_connection.para Starting a timed connect with SSL session 0x8d783b8, proxy (null):0, and timeout 30 (http_connection.cpp:236)
> http_connection.para Entering state_start_connection (http_connection.cpp:351)
> http_connection.para Remote Address: ip=128.218.97.10, port=443, familiy=2 (http_connection.cpp:799)
> http_connection.para Remote Server=remote.ucsf.edu (http_connection.cpp:801)
> http_connection.para Local Address: ip=0.0.0.0, port=0, familiy=2 (http_connection.cpp:806)
> http_connection.para Proxy Address: ip=(null), port=0, familiy=0 (http_connection.cpp:811)
> http_connection.para Entering state_continue_connection (http_connection.cpp:368)
> http_connection.para Entering state_ssl_connect (http_connection.cpp:538)
104,162c63,83
< connect.info IVE ncp_version = 3 (ncp_dsssl.cpp:467)
< ncphandler.info connect done (ncphandler.cpp:288)
< session.info Connected to ive remote.ucsf.edu (session.cpp:514)
< adapter.info opened tun adapter 0000000A (adapter.cpp:561)
< session.info Executing '/sbin/sysctl net.ipv6.conf.tun0.disable_ipv6=1 >/dev/null 2>/dev/null'  (syscmd.cpp:445)
< session.info /sbin/sysctl status 0x100 (syscmd.cpp:542)
< session.error Failed to execute command /sbin/sysctl net.ipv6.conf.tun0.disable_ipv6=1 >/dev/null 2>/dev/null. DSSysCmd::executeAndWait returned 256. (session.cpp:1344)
< ipsec.info received kmp message 301 size 334 (tunnel.cpp:248)
< ProxyConfigManager.info No modification of the proxy settings is required (sysdeps.cpp:384)
< session.info IVE sent DNS server 128.218.254.10 (session.cpp:1744)
< session.info IVE sent DNS server 169.230.18.10 (session.cpp:1744)
< session.info IVE sent DNS suffix ucsf.edu (session.cpp:1777)
< session.info IVE DNS has priority over Client DNS (session.cpp:1806)
< session.info IVE sent WINS server 255.255.255.255 (session.cpp:1896)
< session.info IVE sent NC IP 10.49.0.146 netmask 255.255.255.255 (session.cpp:1478)
< session.info NC client network is 10.49.0.146 (session.cpp:1483)
< adapter.info IVE get DNS server 128.218.254.10 (adapter.cpp:646)
< adapter.info IVE get DNS server 169.230.18.10 (adapter.cpp:646)
< adapter.info cip = 10.49.0.146, mask = 255.255.255.255, gw = 10.200.200.200, domain = ucsf.edu (adapter.cpp:770)
< ipsec.info send kmp message 303 size 16 (tunnel.cpp:240)
< session.info adapter is configured (session.cpp:1511)
< session.info Deny route count = 0 (session.cpp:1546)
< rmon.info adding a conflicting route with a lower metric to 0.0.0.0/0.0.0.0 gw 10.49.0.146 metric 1 (routemon.cpp:876)
< rmon.info adding a conflicting route with a lower metric to 169.254.0.0/255.255.0.0 gw 10.49.0.146 metric 1 (routemon.cpp:876)
< rmon.info adding a conflicting route with a lower metric to 192.168.1.0/255.255.255.0 gw 10.49.0.146 metric 1 (routemon.cpp:876)
< rmon.info adding route to 0.0.0.0/0.0.0.0 with gw 10.49.0.146, metric 1, if_id 0 (routemon.cpp:887)
< session.info added route to dest = 0.0.0.0, mask = 0.0.0.0 (session.cpp:1601)
< session.info route count = 1 (session.cpp:1605)
< rmon.info system routes:  (routemon.cpp:261)
< rmon.info 0.0.0.0/0.0.0.0 gw 10.49.0.146 via 0x00000000 metric 1 (routemon.cpp:1898)
< rmon.info 0.0.0.0/0.0.0.0 gw 192.168.1.1 via 0x00000000 metric 600 (routemon.cpp:1898)
< rmon.info 169.230.251.90/255.255.255.255 gw 192.168.1.1 via 0x00000000 metric 1 (routemon.cpp:1898)
< rmon.info 169.254.0.0/255.255.0.0 gw 10.49.0.146 via 0x00000000 metric 1 (routemon.cpp:1898)
< rmon.info 169.254.0.0/255.255.0.0 gw 0.0.0.0 via 0x00000000 metric 1000 (routemon.cpp:1898)
< rmon.info 192.168.1.0/255.255.255.0 gw 10.49.0.146 via 0x00000000 metric 1 (routemon.cpp:1898)
< rmon.info 192.168.1.0/255.255.255.0 gw 0.0.0.0 via 0x00000000 metric 600 (routemon.cpp:1898)
< rmon.info 192.168.1.1/255.255.255.255 gw 0.0.0.0 via 0x00000000 metric 1 (routemon.cpp:1898)
< rmon.info monitored routes:  (routemon.cpp:263)
< rmon.info 192.168.1.1/255.255.255.255 gw 0.0.0.0 via 0x00000000 metric 1 (routemon.cpp:1898)
< rmon.info 169.230.251.90/255.255.255.255 gw 192.168.1.1 via 0x00000000 metric 1 (routemon.cpp:1898)
< rmon.info 0.0.0.0/0.0.0.0 gw 10.49.0.146 via 0x00000000 metric 1 (routemon.cpp:1898)
< rmon.info 169.254.0.0/255.255.0.0 gw 10.49.0.146 via 0x00000000 metric 1 (routemon.cpp:1898)
< rmon.info 192.168.1.0/255.255.255.0 gw 10.49.0.146 via 0x00000000 metric 1 (routemon.cpp:1898)
< rmon.info Excluded Routes:  (routemon.cpp:265)
< rmon.info starting the route monitor... (routemon.cpp:329)
< rmon.info opened netlink socket 11 (routemon.cpp:302)
< session.info Tunnel setup done (session.cpp:582)
< pulseui.info received onConnect (pulseUiLib.cpp:444)
< ipsec.info Creating UDP socket 192.168.1.13:0 (udp.cpp:46)
< ipsec.info setting IP_PMTU_DISCOVER (0) (udp.cpp:243)
< ipsecd.info New UDP socket: 192.168.1.13:56381 (udp.cpp:273)
< ipsec.info new ESP tunnel in:0xAAC3BF46, out:0x5F739532 192.168.1.13:0 -> 169.230.251.90:4500 (engine.cpp:522)
< ipsec.info send kmp message 302 size 86 (tunnel.cpp:240)
< ipsec.info IpsecEngine::setTunAdapter (nil) (engine.cpp:104)
< rmon.info got a netlink route update: type = 16 (routemon.cpp:351)
< rmon.info got a netlink route update: type = 20 (routemon.cpp:351)
< ipsec.info IpsecEngine::setTunAdapter 0x8febd40 (engine.cpp:104)
< ipsec.info send kmp message 303 size 13 (tunnel.cpp:240)
< DSInet.info IVE host remote.ucsf.edu resolved to 169.230.251.90, port 443 (dsinet.cpp:329)
---
> dsssl.para SSL connect ssl=0x8e0cf98/sd=7 connection using cipher AES128-SHA256 (DSSSLSock.cpp:1886)
> http_connection.para Returning DSHTTP_COMPLETE from state_ssl_connect (http_connection.cpp:546)
> dsclient.info state: kStatePostHostChecker (dsclient.cpp:435)
> pulsesvc.info Entering HC sendMessage routine (HostCheckerLinuxTNCC.cpp:138)
> pulsesvc.info Entering packageTncData (HostCheckerLinuxTNCC.cpp:225)
> pulsesvc.info Base64 encoding the tnc payload (HostCheckerLinuxTNCC.cpp:235)
> pulsesvc.info Leaving packageTncData (HostCheckerLinuxTNCC.cpp:251)
> pulsesvc.info sending HC tnc update message to IVE (HostCheckerLinuxTNCC.cpp:336)
> dsclient.para prepareInetAndOpen: returning because m_inet is already open (dsclient.cpp:1229)
> dsclient.error server responded with HTTP error 404 from url: /dana-na/hc/tnchcupdate.cgi (dsclient.cpp:1694)
> pulsesvc.error Failed to send tnc data (HostCheckerLinuxTNCC.cpp:196)
> pulsesvc.error Failed to send message to TNCC. Error code: 9 (HCLinuxImc.cpp:59)
> pulsesvc.error Handshake failed with IMC, imcId: 0 (HostCheckerLinuxTNCC.cpp:114)
> pulsesvc.info HC handshake complete (HostCheckerLinuxTNCC.cpp:122)
> pulseui.info PostAuth: Setting state to terminate state  (pulse_dsclient.h:127)
> pulsesvc.info Post-Auth host check is successful (pulsesvc.cpp:958)
> pulseui.info Proxy object is delete (pulseProxy.cpp:26)
> pulseui.info Succesfully read the return cookie from host checker process (pulseUi.cpp:921)
> pulseui.info Succesfully read the compliance status from host checker process (pulseUi.cpp:929)
> pulseui.info Post-Auth Host checking completed (pulseUi.cpp:1007)
> DSInet.info IVE host 128.218.97.10 resolved to 128.218.97.10, port 443 (dsinet.cpp:329)
168c89,92
< DSInet.info IVE host 169.230.251.90 resolved to 169.230.251.90, port 443 (dsinet.cpp:329)
---
> pulseui.info Succesfully signed out from pulse (pulseUi.cpp:1100)
> pulseui.info pid of pulsesvc = 0 (pulseUi.cpp:145)
> pulseui.info pulsesvc is already terminated (pulseUi.cpp:193)
> DSInet.info IVE host 128.218.97.10 resolved to 128.218.97.10, port 443 (dsinet.cpp:329)
174,251c98,100
< pulseui.info Got disconnect request, retVal: 1 (pulseUi.cpp:419)
< pulseui.error Unable to load Json Parser, message: ReferenceError: Left side of assignment is not a reference. (pulseUi.cpp:265)
< ncphandler.info control channel disconnected due to error 0, reconnecting (ncphandler.cpp:343)
< session.info reconnecting attempts = 1 (session.cpp:705)
< ipsec.warn Cleaning up sa 0x46BFC3AA (esp.cpp:76)
< session.info Registering new timer for reconnection (session.cpp:708)
< rmon.info  Collecting latest routes from the system (routemon.cpp:1474)
< rmon.info Found best route via ifc wlp2s0 (routemon.cpp:1843)
< rmon.info Found best route via ifc wlp2s0 (routemon.cpp:1843)
< rmon.info best route to 169.230.251.90 is 169.230.251.90/255.255.255.255 via 0x00000000 metric: 1 (routemon.cpp:1495)
< rmon.info Found best route via ifc wlp2s0 (routemon.cpp:1843)
< rmon.info Found best route via ifc wlp2s0 (routemon.cpp:1843)
< rmon.info Found best route via ifc wlp2s0 (routemon.cpp:1843)
< rmon.info best route to gateway: 192.168.1.1/255.255.255.255 gw 0.0.0.0 via 0x00000000 metric 1 (routemon.cpp:2010)
< rmon.info next hop gateway route already exists (routemon.cpp:2049)
< rmon.info Host route to 169.230.251.90 already exists, will not add a new one (routemon.cpp:1544)
< rmon.error Setting Best route 5afbe6a9 101a8c0 ffffffff 0 wlp2s0 (routemon.cpp:1548)
< ncp.info connect to hb-x201:443 svc 4 (ncp.cpp:935)
< DSSSL_recv.error returned 0x68 error. (ncp_dsssl.cpp:939)
< ncphandler.info control channel disconnected due to error 68, reconnecting (ncphandler.cpp:343)
< session.info reconnecting attempts = 2 (session.cpp:705)
< rmon.info  Collecting latest routes from the system (routemon.cpp:1474)
< rmon.info Found best route via ifc wlp2s0 (routemon.cpp:1843)
< rmon.info Found best route via ifc wlp2s0 (routemon.cpp:1843)
< rmon.info best route to 169.230.251.90 is 169.230.251.90/255.255.255.255 via 0x00000000 metric: 1 (routemon.cpp:1495)
< rmon.info Found best route via ifc wlp2s0 (routemon.cpp:1843)
< rmon.info Found best route via ifc wlp2s0 (routemon.cpp:1843)
< rmon.info Found best route via ifc wlp2s0 (routemon.cpp:1843)
< rmon.info best route to gateway: 192.168.1.1/255.255.255.255 gw 0.0.0.0 via 0x00000000 metric 1 (routemon.cpp:2010)
< rmon.info next hop gateway route already exists (routemon.cpp:2049)
< rmon.info Host route to 169.230.251.90 already exists, will not add a new one (routemon.cpp:1544)
< rmon.error Setting Best route 5afbe6a9 101a8c0 ffffffff 0 wlp2s0 (routemon.cpp:1548)
< ncp.info connect to hb-x201:443 svc 4 (ncp.cpp:935)
< connect.info creating a new HTTP connection... (ncp_dsssl.cpp:187)
< dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
< dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
< dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
< dsssl.info verify_server_cert_callback : Certificate verification - Successful (DSSSLSock.cpp:1577)
< worker.error Got a redirect, probably due to session timeout (ncp_dsssl.cpp:429)
< ncphandler.info session timedout (ncphandler.cpp:319)
< session.info disconnecting from ive remote.ucsf.edu with reason 3 (session.cpp:599)
< adapter.info closing tun adapter 0000000A (adapter.cpp:997)
< worker.info Calling NCP_DISCONNECT_DONE for conn hb-x201:443 (ncp_dsssl.cpp:667)
< dsxp.info isRegistered returned false for 0x8febd50 -1 (dsio.cpp:992)
< dsxp.info isRegistered returned false for 0x8feb494 -1 (dsio.cpp:992)
< sysdeps.info restoring DNS settings... (sysdeps.cpp:975)
< session.info  Session Terminated. Removing ip6tables entries  (session.cpp:637)
< session.info Executing '/sbin/ip6tables -D INPUT -j DROP -m comment --comment nc_client >/dev/null 2>/dev/null'  (syscmd.cpp:445)
< session.info /sbin/ip6tables status 0x100 (syscmd.cpp:542)
< session.error Failed to execute command /sbin/ip6tables -D INPUT -j DROP -m comment --comment nc_client >/dev/null 2>/dev/null. DSSysCmd::executeAndWait returned 256. (session.cpp:1360)
< session.info Executing '/sbin/ip6tables -D OUTPUT -j DROP -m comment --comment nc_client >/dev/null 2>/dev/null'  (syscmd.cpp:445)
< session.info /sbin/ip6tables status 0x100 (syscmd.cpp:542)
< session.error Failed to execute command /sbin/ip6tables -D OUTPUT -j DROP -m comment --comment nc_client >/dev/null 2>/dev/null. DSSysCmd::executeAndWait returned 256. (session.cpp:1367)
< session.info Executing '/sbin/ip6tables -D FORWARD -j DROP -m comment --comment nc_client >/dev/null 2>/dev/null'  (syscmd.cpp:445)
< session.info /sbin/ip6tables status 0x100 (syscmd.cpp:542)
< session.error Failed to execute command /sbin/ip6tables -D FORWARD -j DROP -m comment --comment nc_client >/dev/null 2>/dev/null. DSSysCmd::executeAndWait returned 256. (session.cpp:1374)
< ncphandler.error NCP disconnect failed, error 107 (ncphandler.cpp:131)
< ncp.error ncpTearDown for IVE remote.ucsf.edu (ncp.cpp:624)
< ncphandler.info disconnect done - tearing down (ncphandler.cpp:330)
< worker.error NCP worker has been requested to stop (ncp_dsssl.cpp:724)
< conn.info cleanup 0 (ncp.cpp:1599)
< conn.info cleanup 0 (ncp.cpp:1599)
< writer.error thread exit (ncp.cpp:2131)
< ncphandler.info teardown done (ncphandler.cpp:354)
< ncp.error ncpCleanup for IVE remote.ucsf.edu (ncp.cpp:766)
< rmon.error Failed to delete route: dest 0.0.0.0 mask 0.0.0.0, gw 10.49.0.146. Error 3 (routemon.cpp:1141)
< rmon.error Failed to delete route: dest 169.254.0.0 mask 255.255.0.0, gw 10.49.0.146. Error 3 (routemon.cpp:1141)
< rmon.error Failed to delete route: dest 192.168.1.0 mask 255.255.255.0, gw 10.49.0.146. Error 3 (routemon.cpp:1141)
< rmon.error Failed to delete route: dest 192.168.1.1 mask 255.255.255.255, gw 0.0.0.0. Error 3 (routemon.cpp:1141)
< rmon.error Failed to delete route: dest 192.168.1.1 mask 255.255.255.255, gw 0.0.0.0. Error 3 (routemon.cpp:1141)
< rmon.info restoring route to 192.168.1.1 (routemon.cpp:1355)
< rmon.error Failed to delete route: dest 192.168.1.1 mask 255.255.255.255, gw 0.0.0.0. Error 3 (routemon.cpp:1141)
< rmon.info restoring route to 192.168.1.1 (routemon.cpp:1355)
< session.info disconnected from ive remote.ucsf.edu with reason 3 (session.cpp:683)
< pulseui.info received onDisconnect with reason = 3 (pulseUiLib.cpp:470)
< pulseui.info waiting for Pulse service to stop! (pulseUi.cpp:164)
< pulseui.info done... (pulseUi.cpp:166)
< pulseui.info Exiting connection thread (pulseUi.cpp:1199)
---
> pulseui.info Succesfully signed out from pulse (pulseUi.cpp:1118)
> pulseui.info pid of pulsesvc = 0 (pulseUi.cpp:145)
> pulseui.info pulsesvc is already terminated (pulseUi.cpp:193)
```